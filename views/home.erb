<html>
<head>
</head>
    <style>
ul.pagination{display: inline-block;
    padding: 0;
    margin: 0;
    font-family: helvetica;}
ul.pagination li{display: inline;}
ul.pagination li a {
    color: black;
    float: left;
    padding: 8px 16px;
    text-decoration: none;}
ul.pagination li a.active {
    background-color: #4CAF50;
    color: white;}
ul.pagination li a:hover:not(.active) {background-color: #ddd;}
#search_query{border: 2px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        width:130px;
        -webkit-transition: width 0.4s ease-in-out;
        transition: width 0.4s ease-in-out;}
#search_query:focus{width: 225px;}
#text_post{height: 135;
    max-height:135;
    width: 500px;
    max-width:500px;
    box-shadow: 1px 2px 1px 1px #ccc;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 7px;
    word-wrap: break-word;
    overflow: hidden;
    background-color: white;
    }
h7{color:black;
     transition-duration: 0.6s;
    -webkit-transition-duration: 0.6s;}
h7:hover{background-color: #ddd;
}
#title{
    font-family: helvetica;
    font-weight: bold;
    font-size: 17px;
    }
#content{font-family: arial;
    font-weight:normal;
    font-size: 14px;
    padding-left: 14;
    width: relative;
    max-width: 500px;
    height: relative;
    max-height: 47px;
    white-space:normal;
    overflow:hidden;
    text-overflow: ellipsis;
    padding-bottom:14px;
    }
#img_post{width:relative;
    height:relative;
    max-width: 500px;
    font-family: helvetica;
    font-weight: bold;
    box-shadow: 1px 2px 1px 1px #ccc;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 7px;
    background-color: white;}
img{width:relative;
    height:relative;
    max-width: 500px;
    font-family: helvetica;
    font-weight: bold;
    box-shadow: 1px 2px 1px 1px #ccc;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 7px;}
#img_gallery{width:relative;
    max-width: 500px;
    max-height: 500px;
    font-family: helvetica;
    font-weight: bold;
    box-shadow: 1px 2px 1px 1px #ccc;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 7px;}
h8{color:black;
     transition-duration: 0.6s;
    -webkit-transition-duration: 0.6s;}
h8:hover{background-color: #ddd;}
#imgTitle{font-family: helvetica;
    font-weight: bold;
    font-size: 17px;}
body{background-color: #f9f9f9;}
    </style>
<body>
    <% for i in 0...@links_on_page[@page.to_i].length %>

            <% if @types_on_page[@page.to_i][i] == "text" %>
            <div id="text_post">
                <div id="title"> 
                <a href=<%=@links_on_page[@page.to_i][i]%>><h7><%=@titles_on_page[@page.to_i][i]%><h7></a>
                </div>
                <div id="content">
                <p><%=@contents_on_page[@page.to_i][i] + "..."%></p>
                </div>
            </div>
            <% end %>

            <% if @types_on_page[@page.to_i][i] == "image" %>
            <div id="img_post">
                <div id="imgTitle">
                <a href=<%=@links_on_page[@page.to_i][i]%>><h8><%=@titles_on_page[@page.to_i][i]%><h8></a>
                </div>
                <blockquote class="imgur-embed-pub" lang="en" data-id="<%= @contents_on_page[@page.to_i][i][0]%>">
                <a href="<%= @contents_on_page[@page.to_i][i][1]%>"></a>
                </blockquote>
                <script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>
            <% end %>
            </div>

            <% if @types_on_page[@page.to_i][i] == "image_gallery" %>
            <div id="img_post">
                <div id="imgTitle">
                <a href=<%=@links_on_page[@page.to_i][i]%>><h8><%=@titles_on_page[@page.to_i][i]%><h8></a>
                </div>
                <blockquote class="imgur-embed-pub" lang="en" data-id="<%= @contents_on_page[@page.to_i][i][0]%>"><a href="<%= @contents_on_page[@page.to_i][i][1]%>"></a></blockquote><script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>
                <script async src="//s.imgur.com/min/embed.js" charset="utf-8"></script>
            </div>
            <% end %>
    </div>
    <% end %>
    <ul class="pagination">
    <% if @page.to_i > 0%>
        <li><a href=<%="?page=#{(@page.to_i).to_s}" %>>«</a></li>
    <% end %>
    <% if @pages.length < 5 %>
        <% for i in @pages %>
            <li><a href=<%="?page=#{(i+1).to_s}"%>><%=(i+1).to_s%></a></li>
        <% end %> 
    <% else %>
        <li><a href="?page=0">1</a></li>
        <li><a href=<%="?page=#{@pages[1]+1}"%>><%=(@pages[1].to_i+1).to_s%></a></li>
        <li><a href=<%="?page=#{@pages[2]+1}"%>><%=(@pages[2].to_i+1).to_s%></a></li>
        <li><a href=<%="?page=#{@pages[3]+1}"%>><%=(@pages[3].to_i+1).to_s%></a></li>
        <li><a href=<%="?page=#{@pages[4]+1}"%>><%=(@pages[4].to_i+1).to_s%></a></li>

    <% end %>
    <% if @page < @pages.length-1 && @pages.length > 0 %>
        <li><a href=<%="?page=#{(@page.to_i+2).to_s}" %>>»</a></li>
    <% end %>
    </ul>
</body>
</html>
